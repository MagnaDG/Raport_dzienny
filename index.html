<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Nagłówek — data z kalendarzem</title>
<style>
  :root{
    --black:#000;
    --grid:#9ea6ad;
    --head-bg:#fff;
    --input-bg:#f7fbff;
    --tv-bg:#f3f7ff;
    --ok:#c8f7c9;
    --nok:#ffdede;
    font-family: "Segoe UI", Roboto, Arial, sans-serif;
  }
  *{box-sizing:border-box}
  body{ margin:0; background:#fff; padding:18px; -webkit-font-smoothing:antialiased;}

  /* outer frame (header only) */
  .header-frame{
    width:100%;
    margin:0 auto;
    border:3px solid var(--black);
    padding:12px 14px;
    background:#fff;
    border-radius:2px;
  }

  /* layout grid: data | line | leader | status | kpi | comment | menu */
  .hdr-grid{
    display:grid;
    grid-template-columns: 230px 230px 420px 78px 420px 420px 120px;
    gap:12px;
    align-items:start;
  }

  .lbl { font-size:11px; font-weight:800; color:#222; margin-bottom:6px; text-align:center; letter-spacing:0.6px; }
  .lbl.italic { font-style:italic; text-decoration:underline; }

  /* DATA and LINIA boxes */
  .box {
    border:1px solid var(--black);
    padding:10px;
    border-radius:6px;
    background:var(--head-bg);
    min-height:58px;
  }
  .box .control {
    width:100%;
    display:flex;
    justify-content:center;
    align-items:center;
  }

  /* visible date display */
  .date-display {
    width:88%;
    padding:10px 12px;
    border-radius:8px;
    border:1px solid #bfc7ce;
    background:var(--input-bg);
    font-size:15px;
    text-align:center;
    cursor:pointer;
    user-select:none;
  }
  .date-display:focus { outline:2px solid #9bbef8; }

  /* hidden native date input (used to open picker) */
  #nativeDate {
    position: absolute;
    left: -9999px;
    width:1px; height:1px; opacity:0;
  }

  select {
    padding:8px 10px;
    border-radius:8px;
    border:1px solid #bfc7ce;
    background:var(--input-bg);
    font-size:14px;
    width:88%;
    cursor:pointer;
  }

  /* Leader / BR. area (complex grid) */
  .leader-box{
    border:1px solid var(--black);
    padding:8px;
    border-radius:6px;
    background:#fff;
  }
  .leader-top{
    display:flex;
    gap:8px;
    align-items:center;
  }
  .leader-top .br {
    border:1px solid var(--black);
    padding:6px 8px;
    min-width:40px;
    text-align:center;
    font-weight:900;
    background:#fff;
  }
  .leader-top .title{
    border:1px solid var(--black);
    padding:6px 10px;
    flex:1;
    font-weight:800;
    text-align:center;
    background:#fff;
  }
  .leader-grid{
    display:grid;
    grid-template-columns:60px 1fr;
    gap:6px;
    margin-top:8px;
  }
  .leader-grid .key{ border:1px solid var(--grid); padding:6px; text-align:center; background:#fff; font-weight:700; }
  .leader-grid .val{ border:1px solid var(--grid); padding:6px; background:#fff; }

  /* STATUS vertical small box */
  .status-box{
    border:1px solid var(--black);
    border-radius:4px;
    height:86px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:900;
    background:#fff;
  }

  /* KPI small grid */
  .kpi-box{
    border:1px solid var(--black);
    padding:6px;
    border-radius:6px;
    background:#fff;
  }
  .kpi-grid{
    display:grid;
    grid-template-columns: repeat(7, 1fr);
    gap:6px;
    align-items:center;
  }
  .kpi-grid .kpi-label{
    border:1px solid var(--grid);
    padding:6px;
    text-align:center;
    font-weight:800;
    background:#f8fbff;
    font-size:12px;
  }
  .kpi-grid .kpi-val{
    border:1px solid var(--grid);
    padding:8px;
    text-align:center;
    font-weight:800;
    background:#fff;
  }
  .kpi-grid .kpi-ok{ background:var(--ok); }
  .kpi-grid .kpi-nok{ background:var(--nok); }

  /* COMMENT area (to display on TV) */
  .tv-box{
    border:1px solid var(--black);
    padding:8px;
    border-radius:8px;
    background:var(--tv-bg);
  }
  .tv-label{ font-weight:800; font-size:12px; text-align:left; margin-bottom:6px; }
  .tv-input{
    display:block;
    width:100%;
    height:52px;
    border-radius:10px;
    border:1px solid #bfc7ce;
    background:#fff;
    padding:10px;
    font-size:14px;
    box-shadow: inset 0 2px 6px rgba(0,0,0,0.04);
    resize:none;
  }

  /* MENU plaque on right */
  .menu-plaque{
    border:1px solid var(--black);
    background: linear-gradient(#f7f7f7,#e8e8e8);
    box-shadow: 6px 6px 0 rgba(0,0,0,0.08);
    border-radius:4px;
    height:72px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:900;
    font-size:18px;
    cursor:pointer;
  }

  /* responsive: allow scroll horizontally */
  @media (max-width:1300px){
    .hdr-grid{ grid-template-columns: 180px 180px 360px 64px 320px 300px 110px; gap:8px; }
  }
  @media (max-width:1000px){
    .header-frame{ padding:10px; }
    .hdr-grid{ grid-template-columns: 1fr; gap:10px; }
    .menu-plaque{ justify-self:center; width:120px; }
  }
</style>
</head>
<body>
  <div class="header-frame" role="banner" aria-label="Nagłówek raportu">
    <div class="hdr-grid">
      <!-- DATA -->
      <div>
        <div class="lbl italic">DATA</div>
        <div class="box">
          <div class="control">
            <!-- visible date -->
            <div id="dateDisplay" class="date-display" role="button" tabindex="0" aria-label="Aktualna data, kliknij aby wybrać inną">
              <!-- filled by JS -->
            </div>
            <!-- hidden native date input used only to show calendar -->
            <input id="nativeDate" type="date" aria-hidden="true" />
          </div>
        </div>
      </div>

      <!-- LINIA -->
      <div>
        <div class="lbl italic">LINIA</div>
        <div class="box">
          <div class="control">
            <select id="lineSelect" aria-label="Wybierz linię">
              <option value="">-- wybierz --</option>
              <option>MP4</option>
              <option>MP3</option>
              <option>MP2</option>
            </select>
          </div>
        </div>
      </div>

      <!-- BR. / LIDER -->
      <div>
        <div class="lbl">BR. <span style="margin-left:8px; font-weight:700;">LIDER ( Nazwisko Imię )</span></div>
        <div class="leader-box" role="group" aria-label="BR lider">
          <div class="leader-top">
            <div class="br">BR.</div>
            <div class="title">LIDER ( Nazwisko Imię )</div>
          </div>

          <div class="leader-grid" style="margin-top:8px;">
            <div class="key">C</div><div class="val">P.Zawadzka / Ł.Chowaniak</div>
            <div class="key">B</div><div class="val">WITAJCIE</div>
            <div class="key">A</div><div class="val">WITAJCIE</div>
          </div>
        </div>
      </div>

      <!-- STATUS -->
      <div>
        <div class="lbl">STATUS</div>
        <div class="status-box" role="status" aria-label="Status"> </div>
      </div>

      <!-- KPI grid -->
      <div>
        <div class="lbl" aria-hidden="true"> </div>
        <div class="kpi-box" aria-hidden="false">
          <div class="kpi-grid" role="table" aria-label="KPI">
            <div class="kpi-label">Q</div>
            <div class="kpi-label">C</div>
            <div class="kpi-label">D</div>
            <div class="kpi-label">M</div>
            <div class="kpi-label">DL</div>
            <div class="kpi-label">OK</div>
            <div class="kpi-label">NOK</div>

            <div class="kpi-val"> </div>
            <div class="kpi-val"> </div>
            <div class="kpi-val"> </div>
            <div class="kpi-val"> </div>
            <div class="kpi-val"> </div>
            <div class="kpi-val kpi-ok"> </div>
            <div class="kpi-val kpi-nok"> </div>
          </div>
        </div>
      </div>

      <!-- Comment for TV -->
      <div>
        <div class="lbl">KOMENTARZ DO WYŚWIETLANIA NA TV</div>
        <div class="tv-box">
          <textarea class="tv-input" placeholder="Tutaj wpisz komentarz wyświetlany na telewizorze..." aria-label="Komentarz do wyświetlenia na TV"></textarea>
        </div>
      </div>

      <!-- MENU plaque -->
      <div>
        <div class="lbl" style="visibility:hidden">MENU</div>
        <div class="menu-plaque" role="button" tabindex="0" aria-label="Otwórz menu">
          MENU
        </div>
      </div>

    </div>
  </div>

<script>
  // polish weekday names
  const weekPL = ['niedziela','poniedziałek','wtorek','środa','czwartek','piątek','sobota'];

  const dateDisplay = document.getElementById('dateDisplay');
  const nativeDate = document.getElementById('nativeDate');

  function pad(n){ return String(n).padStart(2,'0'); }

  function formatPolish(dateObj){
    const d = dateObj.getDate();
    const m = dateObj.getMonth()+1;
    const y = dateObj.getFullYear();
    const weekday = weekPL[dateObj.getDay()];
    return `${weekday} ${pad(d)}.${pad(m)}.${y}`;
  }

  function setDisplayFromInput(){
    if(nativeDate.value){
      const parts = nativeDate.value.split('-');
      const dt = new Date(Number(parts[0]), Number(parts[1]) - 1, Number(parts[2]));
      dateDisplay.innerText = formatPolish(dt);
    }
  }

  // set today's date initially
  (function initDate(){
    const now = new Date();
    const iso = now.getFullYear() + '-' + pad(now.getMonth()+1) + '-' + pad(now.getDate());
    nativeDate.value = iso;
    setDisplayFromInput();
  })();

  // clicking visible display opens native picker
  function openPicker(){
    // try modern API first
    if (typeof nativeDate.showPicker === 'function') {
      nativeDate.showPicker();
    } else {
      // fallback: focus+click
      nativeDate.focus();
      nativeDate.click();
    }
  }

  dateDisplay.addEventListener('click', openPicker);
  dateDisplay.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openPicker(); }
  });

  nativeDate.addEventListener('change', ()=>{
    setDisplayFromInput();
  });

  // accessibility: pressing Enter on menu plaque (visual)
  document.querySelector('.menu-plaque').addEventListener('keydown', (e)=> {
    if(e.key === 'Enter' || e.key === ' ') e.target.click();
  });
</script>
</body>
</html>
